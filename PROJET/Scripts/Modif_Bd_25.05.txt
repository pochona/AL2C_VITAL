/* Créée la table attachement pour les fichiers à joindre à une consultation, et crée la table remboursement pour les demandes de remboursements */

CREATE TABLE VTL_ATTACHEMENT (
	VTL_ATTACHEMENT_ID INT IDENTITY(1,1) NOT NULL,
	VTL_ATTACHEMENT_CHEMIN NVARCHAR(50) NOT NULL,
	VTL_ATTACHEMENT_CONSULT INT NOT NULL
)
GO

ALTER TABLE VTL_ATTACHEMENT
	ADD CONSTRAINT VTL_ATTACHEMENT_ID_PK PRIMARY KEY (VTL_ATTACHEMENT_ID)
GO

ALTER TABLE VTL_ATTACHEMENT
	ADD CONSTRAINT VTL_ATTACHEMENT_CONSULT_FK FOREIGN KEY (VTL_ATTACHEMENT_CONSULT)
	REFERENCES VTL_CONSULTATION(VTL_CONSULTATION_ID);
GO

CREATE TABLE VTL_REMBOURSEMENT (
	VTL_REMBOURSEMENT_ID INT IDENTITY(1,1) NOT NULL,
	VTL_REMBOURSEMENT_DATE DATE NOT NULL,
	VTL_REMBOURSEMENT_CONSULT INT,
	VTL_REMBOURSEMENT_CONTRAT INT,
	VTL_REMBOURSEMENT_STATUT NVARCHAR(50)
)
GO

ALTER TABLE VTL_REMBOURSEMENT
	ADD CONSTRAINT VTL_REMBOURSEMENT_ID_PK PRIMARY KEY (VTL_REMBOURSEMENT_ID)
GO

ALTER TABLE VTL_REMBOURSEMENT
	ADD CONSTRAINT VTL_REMBOURSEMENT_CONSULT_FK FOREIGN KEY (VTL_REMBOURSEMENT_CONSULT)
	REFERENCES VTL_CONSULTATION(VTL_CONSULTATION_ID);
GO

ALTER TABLE VTL_REMBOURSEMENT
	ADD CONSTRAINT VTL_REMBOURSEMENT_CONTRAT_FK FOREIGN KEY (VTL_REMBOURSEMENT_CONTRAT)
	REFERENCES VTL_CONTRAT(VTL_CONTRAT_ID);
GO

